"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29],{65267:function(e,t,n){var o=n(54805),r=n(1055),c=n(1733),a=n(4711),s=n(40824),i=n(46692),l=n(22268),g=n(80677),u=n(5002),f=n(82776),w=n(36117),d=n(94142);const h=new a.Z({url:"https://openlayers.org/data/vector/ecoregions.json",format:new o.Z}),m=new g.ZP({fill:new u.Z({color:"#eeeeee"})}),Z=new r.Z({layers:[new c.Z({source:h,background:"#1a2b39",style:function(e){const t=e.get("COLOR_BIO")||"#eeeeee";return m.getFill().setColor(t),m}})],target:"map",view:new s.ZP({center:[0,0],zoom:2,constrainRotation:16})}),y=new g.ZP({fill:new u.Z({color:"rgba(255, 255, 255, 0.6)"}),stroke:new f.Z({color:"rgba(255, 255, 255, 0.7)",width:2})}),x=new i.Z({style:function(e){const t=e.get("COLOR_BIO")||"#eeeeee";return y.getFill().setColor(t),y}});Z.addInteraction(x);const E=x.getFeatures(),b=new l.Z({condition:d.QC});Z.addInteraction(b),b.on("boxend",(function(){const e=b.getGeometry().getExtent(),t=Z.getView().getProjection().getExtent(),n=(0,w.dz)(t),o=Math.floor((e[0]-t[0])/n),r=Math.floor((e[2]-t[0])/n);for(let c=o;c<=r;++c){const o=Math.max(e[0]-c*n,t[0]),r=Math.min(e[2]-c*n,t[2]),a=[o,e[1],r,e[3]],s=h.getFeaturesInExtent(a).filter((e=>!E.getArray().includes(e)&&e.getGeometry().intersectsExtent(a))),i=Z.getView().getRotation();if(i%(Math.PI/2)!=0){const e=[0,0],t=b.getGeometry().clone();t.translate(-c*n,0),t.rotate(-i,e);const o=t.getExtent();s.forEach((function(t){const n=t.getGeometry().clone();n.rotate(-i,e),n.intersectsExtent(o)&&E.push(t)}))}else E.extend(s)}})),b.on("boxstart",(function(){E.clear()}));const p=document.getElementById("info");E.on(["add","remove"],(function(){const e=E.getArray().map((e=>e.get("ECO_NAME")));e.length>0?p.innerHTML=e.join(", "):p.innerHTML="None"}))}},function(e){var t;t=65267,e(e.s=t)}]);
//# sourceMappingURL=box-selection.js.map