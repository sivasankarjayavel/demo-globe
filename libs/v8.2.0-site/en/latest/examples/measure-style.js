"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7069],{92257:function(e,t,n){var o=n(1055),r=n(40824),a=n(80677),i=n(5002),l=n(82776),c=n(64688),s=n(71976),g=n(49243),u=n(83279),w=n(59066),d=n(15925),f=n(47051),Z=n(55117),m=n(4711),b=n(72893),h=n(1733),p=n(38881);const y=document.getElementById("type"),x=document.getElementById("segments"),k=document.getElementById("clear"),P=new a.ZP({fill:new i.Z({color:"rgba(255, 255, 255, 0.2)"}),stroke:new l.Z({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new c.Z({radius:5,stroke:new l.Z({color:"rgba(0, 0, 0, 0.7)"}),fill:new i.Z({color:"rgba(255, 255, 255, 0.2)"})})}),v=new a.ZP({text:new s.Z({font:"14px Calibri,sans-serif",fill:new i.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.Z({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new g.Z({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new i.Z({color:"rgba(0, 0, 0, 0.7)"})})}),C=new a.ZP({text:new s.Z({font:"12px Calibri,sans-serif",fill:new i.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.Z({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),I=new a.ZP({image:new c.Z({radius:5,stroke:new l.Z({color:"rgba(0, 0, 0, 0.7)"}),fill:new i.Z({color:"rgba(0, 0, 0, 0.4)"})}),text:new s.Z({text:"Drag to modify",font:"12px Calibri,sans-serif",fill:new i.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.Z({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),A=new a.ZP({text:new s.Z({font:"12px Calibri,sans-serif",fill:new i.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.Z({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new g.Z({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new i.Z({color:"rgba(0, 0, 0, 0.4)"})})}),T=[A],M=function(e){const t=(0,p.xA)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m",n},B=function(e){const t=(0,p.bg)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km²":Math.round(100*t)/100+" m²",n},F=new b.Z({source:new Z.Z}),G=new m.Z,E=new u.Z({source:G,style:I});let S;function D(e,t,n,o){const r=[],a=e.getGeometry(),i=a.getType();let l,c,s;if(n&&n!==i&&"Point"!==i||(r.push(P),"Polygon"===i?(l=a.getInteriorPoint(),c=B(a),s=new d.Z(a.getCoordinates()[0])):"LineString"===i&&(l=new f.Z(a.getLastCoordinate()),c=M(a),s=a)),t&&s){let e=0;s.forEachSegment((function(t,n){const o=new d.Z([t,n]),a=M(o);T.length-1<e&&T.push(A.clone());const i=new f.Z(o.getCoordinateAt(.5));T[e].setGeometry(i),T[e].getText().setText(a),r.push(T[e]),e++}))}return c&&(v.setGeometry(l),v.getText().setText(c),r.push(v)),o&&"Point"===i&&!E.getOverlay().getSource().getFeatures().length&&(S=a,C.getText().setText(o),r.push(C)),r}const L=new h.Z({source:G,style:function(e){return D(e,x.checked)}}),O=new o.Z({layers:[F,L],target:"map",view:new r.ZP({center:[-11e6,46e5],zoom:15})});let X;function Y(){const e=y.value,t="Click to continue drawing the "+("Polygon"===e?"polygon":"line"),n="Click to start measuring";let o=n;X=new w.ZP({source:G,type:e,style:function(t){return D(t,x.checked,e,o)}}),X.on("drawstart",(function(){k.checked&&G.clear(),E.setActive(!1),o=t})),X.on("drawend",(function(){I.setGeometry(S),E.setActive(!0),O.once("pointermove",(function(){I.setGeometry()})),o=n})),E.setActive(!0),O.addInteraction(X)}O.addInteraction(E),y.onchange=function(){O.removeInteraction(X),Y()},Y(),x.onchange=function(){L.changed(),X.getOverlay().changed()}}},function(e){var t;t=92257,e(e.s=t)}]);
//# sourceMappingURL=measure-style.js.map